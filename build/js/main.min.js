"use strict";

var infoblockSlider = new Swiper('.infoblock__slider', {
  slidesPerView: 3,
  spaceBetween: 15,
  navigation: {
    nextEl: '.infoblock__next-btn',
    prevEl: '.infoblock__prev-btn'
  },
  pagination: {
    el: '.infoblock__pagination'
  },
  breakpoints: {
    1000: {
      spaceBetween: 20
    },
    680: {
      spaceBetween: 15
    }
  }
});
var yandexSlider = new Swiper('.yandex-review__slider', {
  slidesPerView: 1,
  spaceBetween: 93,
  navigation: {
    nextEl: '.yandex-review__next',
    prevEl: '.yandex-review__prev'
  },
  pagination: {
    el: '.yandex-review__pagination'
  },
  breakpoints: {
    1400: {
      spaceBetween: 93,
      slidesPerView: 'auto'
    },
    680: {
      spaceBetween: 46,
      slidesPerView: 2
    }
  }
});
var swiper = new Swiper('.card-slider__thumb', {
  spaceBetween: 10,
  slidesPerView: 'auto',
  freeMode: true,
  watchSlidesVisibility: true,
  watchSlidesProgress: true,
  breakpoints: {
    1600: {
      direction: 'vertical'
    }
  }
});
var swiper2 = new Swiper('.card-slider__main', {
  spaceBetween: 10,
  navigation: {
    nextEl: '.card-slider__next',
    prevEl: '.card-slider__prev'
  },
  thumbs: {
    swiper: swiper
  }
});

var tab = function tab() {
  var tabNav = document.querySelectorAll('.tabs__list-item'),
      // Выбираем элементы навигации табов
  tabContent = document.querySelectorAll('.tabs__content-item'),
      // Выбираем самы табы
  tabName; // Переменная для имени таба
  // Проходим циклом по каждому элементу навигации и навешиваем обработчик клика, который вызывает функцию selectTabNav

  tabNav.forEach(function (item) {
    item.addEventListener('click', selectTabNav);
  });

  function selectTabNav() {
    tabNav.forEach(function (item) {
      // Удаляем активный класс у всех элементов навигации табов
      item.classList.remove('tabs__list-item--active');
    });
    this.classList.add('tabs__list-item--active'); // Добавляем активный укласс у элемента по которому кликнули

    tabName = this.getAttribute('data-tab-name'); // Получаем имя таба, который нам нужен

    selectTabContent(tabName); // Запускаем функцию, чтобы показать выбранный таб
  }

  function selectTabContent(tab) {
    // Проходим по всем табам и проверяем есть ли у элемента класс, равный имени таба(переменной tabName). Если есть, то добавляем класс активного таба, если нет, то удаляем этот класс
    tabContent.forEach(function (item) {
      var classList = item.classList;
      classList.contains(tab) ? classList.add('tabs__content-item--active') : classList.remove('tabs__content-item--active');
    });
  }
};

var toggleCatalogMenu = function toggleCatalogMenu() {
  var catalogLinks = document.querySelectorAll('.catalog-menu__list-item');
  catalogLinks.forEach(function (el) {
    el.addEventListener('mouseover', function (e) {
      catalogLinks.forEach(function (item) {
        item.classList.remove('catalog-menu__list-item--active');
      });

      if (!e.target.classList.contains('catalog-menu__list-item')) {
        e.target.closest('.catalog-menu__list-item').classList.add('catalog-menu__list-item--active');
      } else {
        e.target.classList.add('catalog-menu__list-item--active');
      }
    });
  });
};

var searchHandler = function searchHandler() {
  var searchBtn = document.querySelector('.js-search-open');
  var searchBlock = document.querySelector('.search-prev');
  searchBtn.addEventListener('click', function () {
    searchBlock.classList.toggle('search-prev--active');
  });
};

var sandwich = function sandwich() {
  var sandwichButton = document.querySelector('.sandwich__open-btn');
  var sandwichClose = document.querySelector('.sandwich__close-btn');
  var content = document.querySelector('.sandwich__content');
  sandwichButton.addEventListener('click', function () {
    content.classList.add('sandwich__content--opened');
    document.body.style.overflow = 'hidden';
  });
  sandwichClose.addEventListener('click', function () {
    content.classList.remove('sandwich__content--opened');
    document.body.style.overflow = 'visible';
  });
};

sandwich();
tab();
toggleCatalogMenu();
searchHandler();

(function () {
  // breakpoint where swiper will be destroyed
  // and switches to a dual-column layout
  var breakpoint = window.matchMedia('(min-width:1000px)'); // keep track of swiper instances to destroy later

  var mySwiper;

  var breakpointChecker = function breakpointChecker() {
    // if larger viewport and multi-row layout needed
    if (breakpoint.matches === true) {
      // clean up old instances and inline styles when available
      if (mySwiper !== undefined) mySwiper.destroy(true, true); // or/and do nothing
      // else if a small viewport and single column layout needed
    } else if (breakpoint.matches === false) {
      // fire small viewport version of swiper
      return sliderInstagram();
    }
  };

  if (window.innerWidth <= 1000 && mySwiper) {
    mySwiper.destroy(false);
  }

  var sliderInstagram = function sliderInstagram() {
    mySwiper = new Swiper('.similar-cards__list', {
      spaceBetween: 45,
      slidesPerView: 1,
      navigation: {
        nextEl: '.similar-cards__next',
        prevEl: '.similar-cards__prev'
      },
      pagination: {
        el: '.similar-cards__pagination'
      },
      breakpoints: {
        720: {
          spaceBetween: 25,
          slidesPerView: 3
        }
      }
    });
  }; // keep an eye on viewport size changes


  breakpoint.addListener(breakpointChecker); // kickstart

  breakpointChecker();
})();

(function () {
  // breakpoint where swiper will be destroyed
  // and switches to a dual-column layout
  var breakpoint = window.matchMedia('(min-width:1000px)'); // keep track of swiper instances to destroy later

  var mySwiper;

  var breakpointChecker = function breakpointChecker() {
    // if larger viewport and multi-row layout needed
    if (breakpoint.matches === true) {
      // clean up old instances and inline styles when available
      if (mySwiper !== undefined) mySwiper.destroy(true, true); // or/and do nothing
      // else if a small viewport and single column layout needed
    } else if (breakpoint.matches === false) {
      // fire small viewport version of swiper
      return sliderInstagram();
    }
  };

  if (window.innerWidth <= 1000 && mySwiper) {
    mySwiper.destroy(false);
  }

  var sliderInstagram = function sliderInstagram() {
    mySwiper = new Swiper('.past-cards__list', {
      spaceBetween: 45,
      slidesPerView: 1,
      navigation: {
        nextEl: '.past-cards__next',
        prevEl: '.past-cards__prev'
      },
      pagination: {
        el: '.past-cards__pagination'
      },
      breakpoints: {
        720: {
          spaceBetween: 25,
          slidesPerView: 3
        }
      }
    });
  }; // keep an eye on viewport size changes


  breakpoint.addListener(breakpointChecker); // kickstart

  breakpointChecker();
})();

(function () {
  // breakpoint where swiper will be destroyed
  // and switches to a dual-column layout
  var breakpoint = window.matchMedia('(min-width:1000px)'); // keep track of swiper instances to destroy later

  var mySwiper;

  var breakpointChecker = function breakpointChecker() {
    // if larger viewport and multi-row layout needed
    if (breakpoint.matches === true) {
      // clean up old instances and inline styles when available
      if (mySwiper !== undefined) mySwiper.destroy(true, true); // or/and do nothing
      // else if a small viewport and single column layout needed
    } else if (breakpoint.matches === false) {
      // fire small viewport version of swiper
      return sliderInstagram();
    }
  };

  if (window.innerWidth <= 1000 && mySwiper) {
    mySwiper.destroy(false);
  }

  var sliderInstagram = function sliderInstagram() {
    mySwiper = new Swiper('.with-cards__list', {
      spaceBetween: 45,
      slidesPerView: 1,
      navigation: {
        nextEl: '.with-cards__next',
        prevEl: '.with-cards__prev'
      },
      pagination: {
        el: '.with-cards__pagination'
      },
      breakpoints: {
        720: {
          spaceBetween: 25,
          slidesPerView: 3
        }
      }
    });
  }; // keep an eye on viewport size changes


  breakpoint.addListener(breakpointChecker); // kickstart

  breakpointChecker();
})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW5mb2Jsb2NrU2xpZGVyIiwiU3dpcGVyIiwic2xpZGVzUGVyVmlldyIsInNwYWNlQmV0d2VlbiIsIm5hdmlnYXRpb24iLCJuZXh0RWwiLCJwcmV2RWwiLCJwYWdpbmF0aW9uIiwiZWwiLCJicmVha3BvaW50cyIsInlhbmRleFNsaWRlciIsInN3aXBlciIsImZyZWVNb2RlIiwid2F0Y2hTbGlkZXNWaXNpYmlsaXR5Iiwid2F0Y2hTbGlkZXNQcm9ncmVzcyIsImRpcmVjdGlvbiIsInN3aXBlcjIiLCJ0aHVtYnMiLCJ0YWIiLCJ0YWJOYXYiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0YWJDb250ZW50IiwidGFiTmFtZSIsImZvckVhY2giLCJpdGVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNlbGVjdFRhYk5hdiIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsImdldEF0dHJpYnV0ZSIsInNlbGVjdFRhYkNvbnRlbnQiLCJjb250YWlucyIsInRvZ2dsZUNhdGFsb2dNZW51IiwiY2F0YWxvZ0xpbmtzIiwiZSIsInRhcmdldCIsImNsb3Nlc3QiLCJzZWFyY2hIYW5kbGVyIiwic2VhcmNoQnRuIiwicXVlcnlTZWxlY3RvciIsInNlYXJjaEJsb2NrIiwidG9nZ2xlIiwic2FuZHdpY2giLCJzYW5kd2ljaEJ1dHRvbiIsInNhbmR3aWNoQ2xvc2UiLCJjb250ZW50IiwiYm9keSIsInN0eWxlIiwib3ZlcmZsb3ciLCJicmVha3BvaW50Iiwid2luZG93IiwibWF0Y2hNZWRpYSIsIm15U3dpcGVyIiwiYnJlYWtwb2ludENoZWNrZXIiLCJtYXRjaGVzIiwidW5kZWZpbmVkIiwiZGVzdHJveSIsInNsaWRlckluc3RhZ3JhbSIsImlubmVyV2lkdGgiLCJhZGRMaXN0ZW5lciJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNQSxlQUFlLEdBQUcsSUFBSUMsTUFBSixDQUFXLG9CQUFYLEVBQWlDO0FBQ3hEQyxFQUFBQSxhQUFhLEVB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SUFBQUEsUUFBUSxHQUFHLElBQUlyRCxNQUFKLENBQVcsbUJBQVgsRUFBZ0M7QUFDMUNFLE1BQUFBLFlBQVksRUFBRSxFQUQ0QjtBQUUxQ0QsTUFBQUEsYUFBYSxFQUFFLENBRjJCO0FBRzFDRSxNQUFBQSxVQUFVLEVBQUU7QUFDWEMsUUFBQUEsTUFBTSxFQUFFLG1CQURHO0FBRVhDLFFBQUFBLE1BQU0sRUFBRTtBQUZHLE9BSDhCO0FBTzFDQyxNQUFBQSxVQUFVLEVBQUU7QUFDWEMsUUFBQUEsRUFBRSxFQUFFO0FBRE8sT0FQOEI7QUFVMUNDLE1BQUFBLFdBQVcsRUFBRTtBQUNaLGFBQUs7QUFDSk4sVUFBQUEsWUFBWSxFQUFFLEVBRFY7QUFFSkQsVUFBQUEsYUFBYSxFQUFFO0FBRlg7QUFETztBQVY2QixLQUFoQyxDQUFYO0FBaUJBLEdBbEJELENBeEJZLENBMkNaOzs7QUFDQWlELEVBQUFBLFVBQVUsQ0FBQ1UsV0FBWCxDQUF1Qk4saUJBQXZCLEVBNUNZLENBNkNaOztBQUNBQSxFQUFBQSxpQkFBaUI7QUFDakIsQ0EvQ0EsR0FBRCIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGluZm9ibG9ja1NsaWRlciA9IG5ldyBTd2lwZXIoJy5pbmZvYmxvY2tfX3NsaWRlcicsIHtcblx0c2xpZGVzUGVyVmlldzogMyxcblx0c3BhY2VCZXR3ZWVuOiAxNSxcblx0bmF2aWdhdGlvbjoge1xuXHRcdG5leHRFbDogJy5pbmZvYmxvY2tfX25leHQtYnRuJyxcblx0XHRwcmV2RWw6ICcuaW5mb2Jsb2NrX19wcmV2LWJ0bicsXG5cdH0sXG5cdHBhZ2luYXRpb246IHtcblx0XHRlbDogJy5pbmZvYmxvY2tfX3BhZ2luYXRpb24nLFxuXHR9LFxuXHRicmVha3BvaW50czoge1xuXHRcdDEwMDA6IHtcblx0XHRcdHNwYWNlQmV0d2VlbjogMjAsXG5cdFx0fSxcblx0XHQ2ODA6IHtcblx0XHRcdHNwYWNlQmV0d2VlbjogMTUsXG5cdFx0fSxcblx0fSxcbn0pO1xuXG5jb25zdCB5YW5kZXhTbGlkZXIgPSBuZXcgU3dpcGVyKCcueWFuZGV4LXJldmlld19fc2xpZGVyJywge1xuXHRzbGlkZXNQZXJWaWV3OiAxLFxuXHRzcGFjZUJldHdlZW46IDkzLFxuXHRuYXZpZ2F0aW9uOiB7XG5cdFx0bmV4dEVsOiAnLnlhbmRleC1yZXZpZXdfX25leHQnLFxuXHRcdHByZXZFbDogJy55YW5kZXgtcmV2aWV3X19wcmV2Jyxcblx0fSxcblx0cGFnaW5hdGlvbjoge1xuXHRcdGVsOiAnLnlhbmRleC1yZXZpZXdfX3BhZ2luYXRpb24nLFxuXHR9LFxuXHRicmVha3BvaW50czoge1xuXHRcdDE0MDA6IHtcblx0XHRcdHNwYWNlQmV0d2VlbjogOTMsXG5cdFx0XHRzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG5cdFx0fSxcblx0XHQ2ODA6IHtcblx0XHRcdHNwYWNlQmV0d2VlbjogNDYsXG5cdFx0XHRzbGlkZXNQZXJWaWV3OiAyLFxuXHRcdH0sXG5cdH0sXG59KTtcblxuY29uc3Qgc3dpcGVyID0gbmV3IFN3aXBlcignLmNhcmQtc2xpZGVyX190aHVtYicsIHtcblx0c3BhY2VCZXR3ZWVuOiAxMCxcblx0c2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuXHRmcmVlTW9kZTogdHJ1ZSxcblx0d2F0Y2hTbGlkZXNWaXNpYmlsaXR5OiB0cnVlLFxuXHR3YXRjaFNsaWRlc1Byb2dyZXNzOiB0cnVlLFxuXHRicmVha3BvaW50czoge1xuXHRcdDE2MDA6IHtcblx0XHRcdGRpcmVjdGlvbjogJ3ZlcnRpY2FsJyxcblx0XHR9LFxuXHR9LFxufSk7XG5cbmNvbnN0IHN3aXBlcjIgPSBuZXcgU3dpcGVyKCcuY2FyZC1zbGlkZXJfX21haW4nLCB7XG5cdHNwYWNlQmV0d2VlbjogMTAsXG5cdG5hdmlnYXRpb246IHtcblx0XHRuZXh0RWw6ICcuY2FyZC1zbGlkZXJfX25leHQnLFxuXHRcdHByZXZFbDogJy5jYXJkLXNsaWRlcl9fcHJldicsXG5cdH0sXG5cdHRodW1iczoge1xuXHRcdHN3aXBlcixcblx0fSxcbn0pO1xuXG5jb25zdCB0YWIgPSBmdW5jdGlvbiAoKSB7XG5cdGxldCB0YWJOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFic19fbGlzdC1pdGVtJyksIC8vINCS0YvQsdC40YDQsNC10Lwg0Y3Qu9C10LzQtdC90YLRiyDQvdCw0LLQuNCz0LDRhtC40Lgg0YLQsNCx0L7QslxuXHRcdHRhYkNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGFic19fY29udGVudC1pdGVtJyksIC8vINCS0YvQsdC40YDQsNC10Lwg0YHQsNC80Ysg0YLQsNCx0Ytcblx0XHR0YWJOYW1lOyAvLyDQn9C10YDQtdC80LXQvdC90LDRjyDQtNC70Y8g0LjQvNC10L3QuCDRgtCw0LHQsFxuXG5cdC8vINCf0YDQvtGF0L7QtNC40Lwg0YbQuNC60LvQvtC8INC/0L4g0LrQsNC20LTQvtC80YMg0Y3Qu9C10LzQtdC90YLRgyDQvdCw0LLQuNCz0LDRhtC40Lgg0Lgg0L3QsNCy0LXRiNC40LLQsNC10Lwg0L7QsdGA0LDQsdC+0YLRh9C40Log0LrQu9C40LrQsCwg0LrQvtGC0L7RgNGL0Lkg0LLRi9C30YvQstCw0LXRgiDRhNGD0L3QutGG0LjRjiBzZWxlY3RUYWJOYXZcblx0dGFiTmF2LmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0VGFiTmF2KVxuXHR9KTtcblxuXHRmdW5jdGlvbiBzZWxlY3RUYWJOYXYoKSB7XG5cdFx0dGFiTmF2LmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRcdC8vINCj0LTQsNC70Y/QtdC8INCw0LrRgtC40LLQvdGL0Lkg0LrQu9Cw0YHRgSDRgyDQstGB0LXRhSDRjdC70LXQvNC10L3RgtC+0LIg0L3QsNCy0LjQs9Cw0YbQuNC4INGC0LDQsdC+0LJcblx0XHRcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgndGFic19fbGlzdC1pdGVtLS1hY3RpdmUnKTtcblx0XHR9KTtcblx0XHR0aGlzLmNsYXNzTGlzdC5hZGQoJ3RhYnNfX2xpc3QtaXRlbS0tYWN0aXZlJyk7ICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0LDQutGC0LjQstC90YvQuSDRg9C60LvQsNGB0YEg0YMg0Y3Qu9C10LzQtdC90YLQsCDQv9C+INC60L7RgtC+0YDQvtC80YMg0LrQu9C40LrQvdGD0LvQuFxuXHRcdHRhYk5hbWUgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS10YWItbmFtZScpOyAvLyDQn9C+0LvRg9GH0LDQtdC8INC40LzRjyDRgtCw0LHQsCwg0LrQvtGC0L7RgNGL0Lkg0L3QsNC8INC90YPQttC10L1cblx0XHRzZWxlY3RUYWJDb250ZW50KHRhYk5hbWUpOyAvLyDQl9Cw0L/Rg9GB0LrQsNC10Lwg0YTRg9C90LrRhtC40Y4sINGH0YLQvtCx0Ysg0L/QvtC60LDQt9Cw0YLRjCDQstGL0LHRgNCw0L3QvdGL0Lkg0YLQsNCxXG5cdH1cblxuXHRmdW5jdGlvbiBzZWxlY3RUYWJDb250ZW50KHRhYikge1xuXHRcdC8vINCf0YDQvtGF0L7QtNC40Lwg0L/QviDQstGB0LXQvCDRgtCw0LHQsNC8INC4INC/0YDQvtCy0LXRgNGP0LXQvCDQtdGB0YLRjCDQu9C4INGDINGN0LvQtdC80LXQvdGC0LAg0LrQu9Cw0YHRgSwg0YDQsNCy0L3Ri9C5INC40LzQtdC90Lgg0YLQsNCx0LAo0L/QtdGA0LXQvNC10L3QvdC+0LkgdGFiTmFtZSkuINCV0YHQu9C4INC10YHRgtGMLCDRgtC+INC00L7QsdCw0LLQu9GP0LXQvCDQutC70LDRgdGBINCw0LrRgtC40LLQvdC+0LPQviDRgtCw0LHQsCwg0LXRgdC70Lgg0L3QtdGCLCDRgtC+INGD0LTQsNC70Y/QtdC8INGN0YLQvtGCINC60LvQsNGB0YFcblx0XHR0YWJDb250ZW50LmZvckVhY2goKGl0ZW0pID0+IHtcblx0XHRcdGNvbnN0IHsgY2xhc3NMaXN0IH0gPSBpdGVtO1xuXHRcdFx0Y2xhc3NMaXN0LmNvbnRhaW5zKHRhYikgPyBjbGFzc0xpc3QuYWRkKCd0YWJzX19jb250ZW50LWl0ZW0tLWFjdGl2ZScpIDogY2xhc3NMaXN0LnJlbW92ZSgndGFic19fY29udGVudC1pdGVtLS1hY3RpdmUnKTtcblx0XHR9KTtcblx0fVxufTtcblxuY29uc3QgdG9nZ2xlQ2F0YWxvZ01lbnUgPSBmdW5jdGlvbiAoKSB7XG5cdGNvbnN0IGNhdGFsb2dMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXRhbG9nLW1lbnVfX2xpc3QtaXRlbScpO1xuXG5cdGNhdGFsb2dMaW5rcy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIChlKSA9PiB7XG5cdFx0XHRjYXRhbG9nTGlua3MuZm9yRWFjaCgoaXRlbSkgPT4ge1xuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2NhdGFsb2ctbWVudV9fbGlzdC1pdGVtLS1hY3RpdmUnKTtcblx0XHRcdH0pO1xuXHRcdFx0aWYgKCEoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXRhbG9nLW1lbnVfX2xpc3QtaXRlbScpKSkge1xuXHRcdFx0XHRlLnRhcmdldC5jbG9zZXN0KCcuY2F0YWxvZy1tZW51X19saXN0LWl0ZW0nKS5jbGFzc0xpc3QuYWRkKCdjYXRhbG9nLW1lbnVfX2xpc3QtaXRlbS0tYWN0aXZlJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdjYXRhbG9nLW1lbnVfX2xpc3QtaXRlbS0tYWN0aXZlJyk7XG5cdFx0XHR9XG5cdFx0fSlcblx0fSlcbn07XG5cbmNvbnN0IHNlYXJjaEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG5cdGNvbnN0IHNlYXJjaEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1zZWFyY2gtb3BlbicpO1xuXHRjb25zdCBzZWFyY2hCbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWFyY2gtcHJldicpXG5cblx0c2VhcmNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdHNlYXJjaEJsb2NrLmNsYXNzTGlzdC50b2dnbGUoJ3NlYXJjaC1wcmV2LS1hY3RpdmUnKTtcblx0fSk7XG59O1xuXG5jb25zdCBzYW5kd2ljaCA9IGZ1bmN0aW9uICgpIHtcblx0Y29uc3Qgc2FuZHdpY2hCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2FuZHdpY2hfX29wZW4tYnRuJyk7XG5cdGNvbnN0IHNhbmR3aWNoQ2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2FuZHdpY2hfX2Nsb3NlLWJ0bicpO1xuXHRjb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNhbmR3aWNoX19jb250ZW50Jyk7XG5cblx0c2FuZHdpY2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cdFx0Y29udGVudC5jbGFzc0xpc3QuYWRkKCdzYW5kd2ljaF9fY29udGVudC0tb3BlbmVkJyk7XG5cdFx0ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXHR9KTtcblxuXHRzYW5kd2ljaENsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdGNvbnRlbnQuY2xhc3NMaXN0LnJlbW92ZSgnc2FuZHdpY2hfX2NvbnRlbnQtLW9wZW5lZCcpO1xuXHRcdGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG5cdH0pO1xufTtcblxuc2FuZHdpY2goKTtcbnRhYigpO1xudG9nZ2xlQ2F0YWxvZ01lbnUoKTtcbnNlYXJjaEhhbmRsZXIoKTtcblxuKGZ1bmN0aW9uICgpIHtcblx0Ly8gYnJlYWtwb2ludCB3aGVyZSBzd2lwZXIgd2lsbCBiZSBkZXN0cm95ZWRcblx0Ly8gYW5kIHN3aXRjaGVzIHRvIGEgZHVhbC1jb2x1bW4gbGF5b3V0XG5cdGNvbnN0IGJyZWFrcG9pbnQgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDoxMDAwcHgpJyk7XG5cdC8vIGtlZXAgdHJhY2sgb2Ygc3dpcGVyIGluc3RhbmNlcyB0byBkZXN0cm95IGxhdGVyXG5cdGxldCBteVN3aXBlcjtcblx0Y29uc3QgYnJlYWtwb2ludENoZWNrZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gaWYgbGFyZ2VyIHZpZXdwb3J0IGFuZCBtdWx0aS1yb3cgbGF5b3V0IG5lZWRlZFxuXHRcdGlmIChicmVha3BvaW50Lm1hdGNoZXMgPT09IHRydWUpIHtcblx0XHRcdC8vIGNsZWFuIHVwIG9sZCBpbnN0YW5jZXMgYW5kIGlubGluZSBzdHlsZXMgd2hlbiBhdmFpbGFibGVcblx0XHRcdGlmIChteVN3aXBlciAhPT0gdW5kZWZpbmVkKSBteVN3aXBlci5kZXN0cm95KHRydWUsIHRydWUpO1xuXHRcdFx0Ly8gb3IvYW5kIGRvIG5vdGhpbmdcblxuXHRcdFx0Ly8gZWxzZSBpZiBhIHNtYWxsIHZpZXdwb3J0IGFuZCBzaW5nbGUgY29sdW1uIGxheW91dCBuZWVkZWRcblx0XHR9IGVsc2UgaWYgKGJyZWFrcG9pbnQubWF0Y2hlcyA9PT0gZmFsc2UpIHtcblx0XHRcdC8vIGZpcmUgc21hbGwgdmlld3BvcnQgdmVyc2lvbiBvZiBzd2lwZXJcblx0XHRcdHJldHVybiBzbGlkZXJJbnN0YWdyYW0oKTtcblx0XHR9XG5cdH07XG5cblx0aWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDEwMDAgJiYgbXlTd2lwZXIpIHtcblx0XHRteVN3aXBlci5kZXN0cm95KGZhbHNlKVxuXHR9XG5cblx0Y29uc3Qgc2xpZGVySW5zdGFncmFtID0gZnVuY3Rpb24gKCkge1xuXHRcdG15U3dpcGVyID0gbmV3IFN3aXBlcignLnNpbWlsYXItY2FyZHNfX2xpc3QnLCB7XG5cdFx0XHRzcGFjZUJldHdlZW46IDQ1LFxuXHRcdFx0c2xpZGVzUGVyVmlldzogMSxcblx0XHRcdG5hdmlnYXRpb246IHtcblx0XHRcdFx0bmV4dEVsOiAnLnNpbWlsYXItY2FyZHNfX25leHQnLFxuXHRcdFx0XHRwcmV2RWw6ICcuc2ltaWxhci1jYXJkc19fcHJldicsXG5cdFx0XHR9LFxuXHRcdFx0cGFnaW5hdGlvbjoge1xuXHRcdFx0XHRlbDogJy5zaW1pbGFyLWNhcmRzX19wYWdpbmF0aW9uJyxcblx0XHRcdH0sXG5cdFx0XHRicmVha3BvaW50czoge1xuXHRcdFx0XHQ3MjA6IHtcblx0XHRcdFx0XHRzcGFjZUJldHdlZW46IDI1LFxuXHRcdFx0XHRcdHNsaWRlc1BlclZpZXc6IDMsXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdH0pO1xuXHR9O1xuXHQvLyBrZWVwIGFuIGV5ZSBvbiB2aWV3cG9ydCBzaXplIGNoYW5nZXNcblx0YnJlYWtwb2ludC5hZGRMaXN0ZW5lcihicmVha3BvaW50Q2hlY2tlcik7XG5cdC8vIGtpY2tzdGFydFxuXHRicmVha3BvaW50Q2hlY2tlcigpO1xufSgpKTtcblxuKGZ1bmN0aW9uICgpIHtcblx0Ly8gYnJlYWtwb2ludCB3aGVyZSBzd2lwZXIgd2lsbCBiZSBkZXN0cm95ZWRcblx0Ly8gYW5kIHN3aXRjaGVzIHRvIGEgZHVhbC1jb2x1bW4gbGF5b3V0XG5cdGNvbnN0IGJyZWFrcG9pbnQgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDoxMDAwcHgpJyk7XG5cdC8vIGtlZXAgdHJhY2sgb2Ygc3dpcGVyIGluc3RhbmNlcyB0byBkZXN0cm95IGxhdGVyXG5cdGxldCBteVN3aXBlcjtcblx0Y29uc3QgYnJlYWtwb2ludENoZWNrZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gaWYgbGFyZ2VyIHZpZXdwb3J0IGFuZCBtdWx0aS1yb3cgbGF5b3V0IG5lZWRlZFxuXHRcdGlmIChicmVha3BvaW50Lm1hdGNoZXMgPT09IHRydWUpIHtcblx0XHRcdC8vIGNsZWFuIHVwIG9sZCBpbnN0YW5jZXMgYW5kIGlubGluZSBzdHlsZXMgd2hlbiBhdmFpbGFibGVcblx0XHRcdGlmIChteVN3aXBlciAhPT0gdW5kZWZpbmVkKSBteVN3aXBlci5kZXN0cm95KHRydWUsIHRydWUpO1xuXHRcdFx0Ly8gb3IvYW5kIGRvIG5vdGhpbmdcblxuXHRcdFx0Ly8gZWxzZSBpZiBhIHNtYWxsIHZpZXdwb3J0IGFuZCBzaW5nbGUgY29sdW1uIGxheW91dCBuZWVkZWRcblx0XHR9IGVsc2UgaWYgKGJyZWFrcG9pbnQubWF0Y2hlcyA9PT0gZmFsc2UpIHtcblx0XHRcdC8vIGZpcmUgc21hbGwgdmlld3BvcnQgdmVyc2lvbiBvZiBzd2lwZXJcblx0XHRcdHJldHVybiBzbGlkZXJJbnN0YWdyYW0oKTtcblx0XHR9XG5cdH07XG5cblx0aWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDEwMDAgJiYgbXlTd2lwZXIpIHtcblx0XHRteVN3aXBlci5kZXN0cm95KGZhbHNlKVxuXHR9XG5cblx0Y29uc3Qgc2xpZGVySW5zdGFncmFtID0gZnVuY3Rpb24gKCkge1xuXHRcdG15U3dpcGVyID0gbmV3IFN3aXBlcignLnBhc3QtY2FyZHNfX2xpc3QnLCB7XG5cdFx0XHRzcGFjZUJldHdlZW46IDQ1LFxuXHRcdFx0c2xpZGVzUGVyVmlldzogMSxcblx0XHRcdG5hdmlnYXRpb246IHtcblx0XHRcdFx0bmV4dEVsOiAnLnBhc3QtY2FyZHNfX25leHQnLFxuXHRcdFx0XHRwcmV2RWw6ICcucGFzdC1jYXJkc19fcHJldicsXG5cdFx0XHR9LFxuXHRcdFx0cGFnaW5hdGlvbjoge1xuXHRcdFx0XHRlbDogJy5wYXN0LWNhcmRzX19wYWdpbmF0aW9uJyxcblx0XHRcdH0sXG5cdFx0XHRicmVha3BvaW50czoge1xuXHRcdFx0XHQ3MjA6IHtcblx0XHRcdFx0XHRzcGFjZUJldHdlZW46IDI1LFxuXHRcdFx0XHRcdHNsaWRlc1BlclZpZXc6IDMsXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdH0pO1xuXHR9O1xuXHQvLyBrZWVwIGFuIGV5ZSBvbiB2aWV3cG9ydCBzaXplIGNoYW5nZXNcblx0YnJlYWtwb2ludC5hZGRMaXN0ZW5lcihicmVha3BvaW50Q2hlY2tlcik7XG5cdC8vIGtpY2tzdGFydFxuXHRicmVha3BvaW50Q2hlY2tlcigpO1xufSgpKTtcblxuKGZ1bmN0aW9uICgpIHtcblx0Ly8gYnJlYWtwb2ludCB3aGVyZSBzd2lwZXIgd2lsbCBiZSBkZXN0cm95ZWRcblx0Ly8gYW5kIHN3aXRjaGVzIHRvIGEgZHVhbC1jb2x1bW4gbGF5b3V0XG5cdGNvbnN0IGJyZWFrcG9pbnQgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDoxMDAwcHgpJyk7XG5cdC8vIGtlZXAgdHJhY2sgb2Ygc3dpcGVyIGluc3RhbmNlcyB0byBkZXN0cm95IGxhdGVyXG5cdGxldCBteVN3aXBlcjtcblx0Y29uc3QgYnJlYWtwb2ludENoZWNrZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0Ly8gaWYgbGFyZ2VyIHZpZXdwb3J0IGFuZCBtdWx0aS1yb3cgbGF5b3V0IG5lZWRlZFxuXHRcdGlmIChicmVha3BvaW50Lm1hdGNoZXMgPT09IHRydWUpIHtcblx0XHRcdC8vIGNsZWFuIHVwIG9sZCBpbnN0YW5jZXMgYW5kIGlubGluZSBzdHlsZXMgd2hlbiBhdmFpbGFibGVcblx0XHRcdGlmIChteVN3aXBlciAhPT0gdW5kZWZpbmVkKSBteVN3aXBlci5kZXN0cm95KHRydWUsIHRydWUpO1xuXHRcdFx0Ly8gb3IvYW5kIGRvIG5vdGhpbmdcblxuXHRcdFx0Ly8gZWxzZSBpZiBhIHNtYWxsIHZpZXdwb3J0IGFuZCBzaW5nbGUgY29sdW1uIGxheW91dCBuZWVkZWRcblx0XHR9IGVsc2UgaWYgKGJyZWFrcG9pbnQubWF0Y2hlcyA9PT0gZmFsc2UpIHtcblx0XHRcdC8vIGZpcmUgc21hbGwgdmlld3BvcnQgdmVyc2lvbiBvZiBzd2lwZXJcblx0XHRcdHJldHVybiBzbGlkZXJJbnN0YWdyYW0oKTtcblx0XHR9XG5cdH07XG5cblx0aWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDEwMDAgJiYgbXlTd2lwZXIpIHtcblx0XHRteVN3aXBlci5kZXN0cm95KGZhbHNlKVxuXHR9XG5cblx0Y29uc3Qgc2xpZGVySW5zdGFncmFtID0gZnVuY3Rpb24gKCkge1xuXHRcdG15U3dpcGVyID0gbmV3IFN3aXBlcignLndpdGgtY2FyZHNfX2xpc3QnLCB7XG5cdFx0XHRzcGFjZUJldHdlZW46IDQ1LFxuXHRcdFx0c2xpZGVzUGVyVmlldzogMSxcblx0XHRcdG5hdmlnYXRpb246IHtcblx0XHRcdFx0bmV4dEVsOiAnLndpdGgtY2FyZHNfX25leHQnLFxuXHRcdFx0XHRwcmV2RWw6ICcud2l0aC1jYXJkc19fcHJldicsXG5cdFx0XHR9LFxuXHRcdFx0cGFnaW5hdGlvbjoge1xuXHRcdFx0XHRlbDogJy53aXRoLWNhcmRzX19wYWdpbmF0aW9uJyxcblx0XHRcdH0sXG5cdFx0XHRicmVha3BvaW50czoge1xuXHRcdFx0XHQ3MjA6IHtcblx0XHRcdFx0XHRzcGFjZUJldHdlZW46IDI1LFxuXHRcdFx0XHRcdHNsaWRlc1BlclZpZXc6IDMsXG5cdFx0XHRcdH0sXG5cdFx0XHR9LFxuXHRcdH0pO1xuXHR9O1xuXHQvLyBrZWVwIGFuIGV5ZSBvbiB2aWV3cG9ydCBzaXplIGNoYW5nZXNcblx0YnJlYWtwb2ludC5hZGRMaXN0ZW5lcihicmVha3BvaW50Q2hlY2tlcik7XG5cdC8vIGtpY2tzdGFydFxuXHRicmVha3BvaW50Q2hlY2tlcigpO1xufSgpKTtcbiJdLCJmaWxlIjoibWFpbi5taW4uanMifQ==
